<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>羁绊礼装表</title>
	<link rel="stylesheet" href="css/trash.css" type="text/css" />
	<style type="text/css">
	body {
		background-color:#fff0cd;
	}
	a { 
		text-decoration:none;
		color:#000;
	}
	</style>
</head>
<body>
	<table id="cftable">
	</table>
	<p style="text-align:right; font-size:12px;"><a href="http://kazemai.github.io/fgo-vz/">数据来源：茹西教王的理想乡</a></p>
	<p style="text-align:right; font-size:12px;"><a href="http://bbs.nga.cn/read.php?tid=11177929">数据来源：地球联邦4@NGA</a></p>
	<p style="text-align:right; font-size:12px;"><a href="http://bbs.nga.cn/read.php?tid=11961759">校对：进击的黄瓜2@NGA</a></p>
</body>
</html>

<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
	var info = new Array();
	$(function(){  
		loadData();
		createTable();
	})
	
	function loadData(){
		$.getJSON("data/fcraft.json",function(data){
			info=data;
		});
	}
	
	function createTable(){
		$("#cftable").empty();
		createTableHead();
		var line = 1
		for(var i in info){
			var sty=""
			if((line % 2) == 1){
				sty=' class="odd"';
			}
			var clink = 'href="http://fgowiki.com/guide/equipdetail/' + info[i]["id"] + '"';
			var slink = 'href="http://fgowiki.com/guide/petdetail/' + info[i]["servantID"] + '"';
			var tr = $('<tr' + sty + '></tr>');
			var tds = '<td><a ' + clink + ' target="_blank">' + info[i]["id"] + '</a></td>';
			tds += '<td><a ' + clink + ' target="_blank"><img src="https://fgowiki.com/fgo/equip/' + info[i]["id"] + '.jpg" style="width:60px ;height:auto"></a></td>';
			tds += '<td><a ' + clink + ' target="_blank">' + info[i]["name"] + '</a></td>';
			tds += '<td><a ' + slink + ' target="_blank">' + info[i]["servant"] + '</a></td>';
			tds += '<td><a ' + slink + ' target="_blank"><img src="https://file.fgowiki.fgowiki.com/fgo/head/' + (Array(3).join('0') + info[i]["servantID"]).slice(-3) + '.jpg" style="width:60px ;height:auto"></a></td>';
			tds += '<td>' + info[i]["friendship"]["0-5"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["5-6"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["6-7"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["7-8"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["8-9"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["9-10"] + '</td>';
			tds += '<td>' + info[i]["friendship"]["total"] + '</td>';
			tds += '<td style="text-align:left">' + info[i]["desc"] + '</td>';
			tr.append(tds);
			$("#cftable").append(tr);
			line++;
		}
	}
	
	function createTableHead(){
		var tr1 = $('<tr></tr>');
		var tr2 = $('<tr></tr>');
		var ths = '<th rowspan="2">ID</th>';
		ths += '<th rowspan="2">图标</th>';
		ths += '<th rowspan="2">名称</th>';
		ths += '<th rowspan="2">隶属从者</th>';
		ths += '<th rowspan="2">头像</th>';
		ths += '<th colspan="7">羁绊点数(万)</th>';
		ths += '<th rowspan="2">说明</th>';
		tr1.append(ths);
		$("#cftable").append(tr1);
		ths = '<th>0-5</th>';
		ths += '<th>5-6</th>';
		ths += '<th>6-7</th>';
		ths += '<th>7-8</th>';
		ths += '<th>8-9</th>';
		ths += '<th>9-10</th>';
		ths += '<th>总计</th>';
		tr2.append(ths);
		$("#cftable").append(tr2);
	}
</script>  


